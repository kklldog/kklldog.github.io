## 加入 NCC
先说一个事，AgileConfig 在 7 月底终于通过了 NCC 社区的审核，正式成为了 NCC 大家庭的一员。这对 AgileConfig 来说是一个里程碑，希望加入 NCC 后能更好的帮助到大家。同时责任也更大了，本人会一如既往的对这个项目维护下去，感谢支持。    
## release-1.4.0
本次1.4.0发布版本是一个比较大更新。解决了 AgileConfig 一些长期存在的功能上的问题。之前版本的发布、回滚只针对单独某个配置，当对某个配置编辑后会记录修改历史，并且发布后的配置修改是实时生效的。这会带来2个比较大的问题：
1. 没有办法追踪“删除”的配置   
因为修改历史记录针对的是单个配置，但是当使用删除操作的时候，整个配置会在列表里移除，导致想要恢复的时候都没有入口可以找到这个被删除的配置。
2. 单个配置修改实时上线   
之前的版本，当对某个配置修改或者删除后配置会实时同步至客户端。这样会带来一个问题：有的时候我们希望修改好多个配置后同时发布上线，因为配置之间很可能是依赖的关系。   

1.4.0 重构了发布功能，解决了以上2个问题。新版本不在针对某个配置单独控制上线、下线。可以连续对多个配置新增、删除、编辑后进行集中发布，同时支持记录发布日志。
## 编辑配置
下面演示下新版的发布如何使用。   
![](https://s3.bmp.ovh/imgs/2021/09/f531b6208c8d4573.png)   
现在新增、编辑、删除配置后，配置不会直接上线，会处于一个待发布的状态。在编辑列表的右上角会提示待发布配置的统计情况。
## 发布配置
修改完配置后，需要点击“发布”按钮进行确认发布。发布成功后修改过后的配置会实时更新至客户端。
    
![](https://s3.bmp.ovh/imgs/2021/09/95e834bb8dad4fb9.png)
> 注意 : 新版本通知客户端变更的事件不再区分add、update、delete，全部为reload。

## 历史版本
新版本对发布的历史可以进行查看，同时支持回滚至某个发布版本的能力。   
![](https://s3.bmp.ovh/imgs/2021/09/7c53845709ba13ef.png)   
历史版本把每次发布的变更情况按时间轴列出。   
![](https://s3.bmp.ovh/imgs/2021/09/b67163799683cb35.png)   
点击“回滚”可以回滚至某个时刻的发布版本的状态。
> 注意： 回滚操作会清空当前所有待发布的配置项
## 最后

✨✨✨Github地址：[https://github.com/dotnetcore/AgileConfig](https://github.com/dotnetcore/AgileConfig)  开源不易，欢迎star✨✨✨   

演示地址：[https://agileconfig-server.xbaby.xyz/](https://agileconfig-server.xbaby.xyz/)  超级管理员账号：admin 密码：123456   

## 关注我的公众号一起玩转技术   

![](https://ftp.bmp.ovh/imgs/2021/07/53dfa51e55de02e9.jpg)